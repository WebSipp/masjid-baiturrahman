<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Display Digital - Masjid Baiturrahman STMIK Tazkia</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Open+Sans:wght@400;600&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* ========================================
           DISPLAY DIGITAL - VERSION FINAL
           100% SINKRON DENGAN GAS
           ======================================== */
        
        :root {
            --primary-dark: #1A4D8C;
            --primary-light: #5D8DC0;
            --accent-blue: #2E77BB;
            --text-dark: #2C3E50;
            --text-light: #F8F9FA;
            --bg-white: #FFFFFF;
            --bg-light: #F0F4F8;
            --shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.85);
            --friday-gold: #D4AF37;
            --friday-cream: #FFF8E1;
            --friday-dark: #8B6B3D;
            --friday-gradient: linear-gradient(135deg, #D4AF37 0%, #8B6B3D 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            background: linear-gradient(135deg, #F0F4F8 0%, #E3EAF2 100%);
            color: var(--text-dark);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: background 0.5s ease;
        }
        
        body.friday-mode {
            background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%);
            --primary-dark: #8B6B3D;
            --accent-blue: #D4AF37;
            --text-dark: #5D4037;
        }
        
        /* ========== HEADER ========== */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            z-index: 10;
            min-height: 80px;
            flex-shrink: 0;
            transition: all 0.5s ease;
        }
        
        .friday-mode .header {
            background: rgba(255, 248, 225, 0.95);
            border-bottom: 2px solid var(--friday-gold);
        }
        
        .date-section {
            display: flex;
            flex-direction: column;
        }
        
        .hijri-date {
            font-size: 1.4rem;
            color: var(--primary-dark);
            font-weight: 700;
            margin-bottom: 4px;
            letter-spacing: 0.5px;
        }
        
        .gregorian-date {
            font-size: 1.1rem;
            color: var(--text-dark);
            font-weight: 600;
            opacity: 0.9;
        }
        
        .masjid-section {
            text-align: right;
        }
        
        .masjid-name {
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
            font-size: 2rem;
            color: var(--primary-dark);
            line-height: 1.1;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            letter-spacing: -0.5px;
        }
        
        .friday-mode .masjid-name {
            color: var(--friday-dark);
            text-shadow: 0 2px 8px rgba(212, 175, 55, 0.3);
        }
        
        .masjid-address {
            font-size: 0.9rem;
            color: var(--text-dark);
            margin-top: 3px;
            font-weight: 500;
            opacity: 0.85;
        }
        
        /* ========== FRIDAY NOTIFICATION ========== */
        .friday-notification {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: var(--friday-gradient);
            color: white;
            text-align: center;
            padding: 15px;
            font-weight: 600;
            z-index: 1000;
            transform: translateY(-100%);
            transition: transform 0.5s ease;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.2rem;
        }
        
        .friday-notification.show {
            transform: translateY(0);
        }
        
        .friday-countdown {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            text-align: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .friday-countdown.show {
            opacity: 1;
            visibility: visible;
        }
        
        .friday-countdown h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 3rem;
            margin-bottom: 10px;
            color: var(--friday-gold);
        }
        
        .friday-countdown .countdown {
            font-family: 'Montserrat', sans-serif;
            font-size: 4rem;
            font-weight: 800;
            color: white;
            margin: 20px 0;
        }
        
        .friday-countdown p {
            font-size: 1.3rem;
            max-width: 600px;
            line-height: 1.6;
            color: #ddd;
        }
        
        /* ========== MAIN CONTAINER ========== */
        .main-container {
            display: flex;
            flex: 1;
            padding: 15px 20px;
            gap: 20px;
            min-height: 0;
            overflow: hidden;
        }
        
        .sidebar-left {
            flex: 0 0 35%;
            display: flex;
            flex-direction: column;
            gap: 15px;
            min-height: 0;
            height: 100%;
        }
        
        /* ========== TIMER SECTION ========== */
        .timer-section {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.9);
            min-height: 200px;
            transition: all 0.5s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .friday-mode .timer-section {
            background: rgba(255, 248, 225, 0.9);
            border: 2px solid var(--friday-gold);
        }
        
        .clock-container {
            margin-bottom: 5px;
        }
        
        .digital-clock {
            font-family: 'Montserrat', sans-serif;
            font-size: 6rem;
            font-weight: 800;
            color: var(--primary-dark);
            line-height: 1;
            margin-bottom: 8px;
            letter-spacing: 4px;
            text-shadow: 0 2px 15px rgba(26, 77, 140, 0.3);
        }
        
        .friday-mode .digital-clock {
            color: var(--friday-dark);
            text-shadow: 0 2px 20px rgba(212, 175, 55, 0.5);
        }
        
        .blink {
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .timezone {
            font-size: 1.5rem;
            color: var(--primary-light);
            font-weight: 600;
            margin-top: 5px;
            opacity: 0.9;
        }
        
        .friday-mode .timezone {
            color: var(--friday-gold);
        }
        
        /* ========== WISDOM SECTION ========== */
        .wisdom-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 15px;
            min-height: 150px;
            overflow: visible;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.9);
            transition: all 0.5s ease;
        }
        
        .friday-mode .wisdom-section {
            background: rgba(255, 248, 225, 0.9);
            border: 2px solid var(--friday-gold);
        }
        
        .wisdom-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 1;
            transition: opacity 0.8s ease-in-out;
            text-align: center;
            width: 100%;
            height: 100%;
        }
        
        .wisdom-text {
            font-size: 1.15rem;
            line-height: 1.7;
            color: var(--text-dark);
            font-style: italic;
            margin-bottom: 12px;
            padding: 0 10px;
            font-weight: 500;
            max-width: 95%;
            font-family: 'Amiri', serif;
        }
        
        .friday-mode .wisdom-text {
            color: var(--friday-dark);
            font-weight: 600;
        }
        
        .wisdom-reference {
            font-size: 0.95rem;
            color: var(--primary-dark);
            font-weight: 700;
            font-style: normal;
            padding: 6px 15px;
            background: rgba(26, 77, 140, 0.08);
            border-radius: 50px;
            display: inline-block;
        }
        
        .friday-mode .wisdom-reference {
            color: var(--friday-dark);
            background: rgba(212, 175, 55, 0.15);
        }
        
        /* ========== SIDEBAR RIGHT ========== */
        .sidebar-right {
            flex: 1;
            background-color: #e6e6e6;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            min-height: 0;
            box-shadow: var(--shadow);
            transition: all 0.5s ease;
        }
        
        .friday-mode .sidebar-right {
            border: 2px solid var(--friday-gold);
        }
        
        /* ========== FRIDAY SLIDER ========== */
        .friday-slider {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
            display: none;
        }
        
        .friday-mode .friday-slider {
            display: block;
        }
        
        .friday-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            overflow: hidden;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .friday-slide.active {
            opacity: 1;
            z-index: 2;
        }
        
        #friday-slide-1 {
            display: flex;
            flex-direction: column;
            gap: 15px;
            justify-content: flex-start;
        }
        
        #friday-slide-1 .jumat-schedule,
        #friday-slide-1 .jumat-officers {
            flex: 1;
            margin: 0;
            max-height: 48%;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        #friday-slide-2 {
            padding: 0;
        }
        
        #friday-slide-2 .jumat-announcements {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 0;
        }
        
        #friday-slide-2 .jumat-announcements h3 {
            margin-bottom: 15px;
            flex-shrink: 0;
            color: var(--friday-dark);
            font-family: 'Montserrat', sans-serif;
            font-size: 1.4rem;
            text-align: center;
        }
        
        .announcement-container {
            flex: 1;
            position: relative;
            overflow: hidden;
            width: 100%;
            min-height: 0;
        }
        
        .announcement-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }
        
        .announcement-slide.active {
            opacity: 1;
            z-index: 1;
        }
        
        .announcement-slide img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 10px;
        }
        
        /* ========== WALLPAPER SLIDER ========== */
        .wallpaper-slider {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .friday-mode .wallpaper-slider {
            display: none;
        }
        
        .wallpaper-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.2s ease-in-out;
        }
        
        .wallpaper-slide.active {
            opacity: 1;
        }
        
        /* ========== JUMAT COMPONENTS ========== */
        .jumat-schedule {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .jumat-schedule h3 {
            color: var(--friday-dark);
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 10px;
            text-align: center;
            font-size: 1.3rem;
        }
        
        .jumat-times {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .jumat-time-item {
            text-align: center;
            padding: 8px;
            background: rgba(212, 175, 55, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .jumat-time-label {
            font-weight: 600;
            color: var(--friday-dark);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .jumat-time-value {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--friday-dark);
            font-size: 1.3rem;
        }
        
        .jumat-officers {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .jumat-officers h3 {
            color: var(--friday-dark);
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 10px;
            text-align: center;
            font-size: 1.3rem;
        }
        
        .officers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .officer-item {
            text-align: center;
            padding: 8px;
            background: rgba(212, 175, 55, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }
        
        .officer-role {
            font-weight: 600;
            color: var(--friday-dark);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .officer-name {
            font-weight: 700;
            color: var(--friday-dark);
            font-size: 1.1rem;
        }
        
        /* ========== PRAYER SCHEDULE ========== */
        .prayer-schedule {
            background: linear-gradient(135deg, var(--primary-dark) 0%, #153a6e 100%);
            border-radius: 20px 20px 0 0;
            padding: 12px 0;
            min-height: 110px;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 5;
            flex-shrink: 0;
            transition: all 0.5s ease;
        }
        
        .friday-mode .prayer-schedule {
            background: var(--friday-gradient);
        }
        
        .prayer-schedule::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, var(--accent-blue), transparent);
            animation: shimmer-line 3s infinite linear;
        }
        
        .friday-mode .prayer-schedule::before {
            background: linear-gradient(90deg, transparent, var(--friday-gold), transparent);
        }
        
        @keyframes shimmer-line {
            0% { background-position: -200px 0; }
            100% { background-position: calc(200px + 100%) 0; }
        }
        
        .schedule-title {
            text-align: center;
            color: var(--text-light);
            font-family: 'Montserrat', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 12px;
            padding: 0 20px;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            letter-spacing: 1px;
        }
        
        .prayer-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 2px;
            padding: 0 10px;
        }
        
        @media (max-width: 1024px) {
            .prayer-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .prayer-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .prayer-item {
            background-color: rgba(255, 255, 255, 0.08);
            padding: 10px 5px;
            text-align: center;
            border-radius: 10px;
            margin: 0 3px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }
        
        .prayer-item:hover {
            background-color: rgba(255, 255, 255, 0.12);
            transform: translateY(-2px);
        }
        
        .prayer-item.active {
            background: linear-gradient(135deg, var(--accent-blue) 0%, #3a8ce4 100%);
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(46, 119, 187, 0.4);
            z-index: 2;
        }
        
        .friday-mode .prayer-item.active {
            background: linear-gradient(135deg, var(--friday-gold) 0%, #FFD700 100%);
            box-shadow: 0 8px 20px rgba(212, 175, 55, 0.5);
        }
        
        .prayer-item.active::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer-active 3s infinite;
        }
        
        @keyframes shimmer-active {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .prayer-name {
            font-size: 0.9rem;
            color: var(--text-light);
            font-weight: 600;
            margin-bottom: 6px;
            opacity: 0.9;
        }
        
        .prayer-item.active .prayer-name {
            opacity: 1;
            font-weight: 700;
        }
        
        .prayer-time {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-light);
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
        }
        
        /* ========== MARQUEE ========== */
        .marquee-container {
            background: linear-gradient(90deg, rgba(240, 247, 255, 0.9) 0%, rgba(255, 255, 255, 0.9) 100%);
            padding: 8px 0;
            overflow: hidden;
            border-top: 2px solid var(--primary-light);
            height: 45px;
            position: relative;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            flex-shrink: 0;
            transition: all 0.5s ease;
        }
        
        .friday-mode .marquee-container {
            background: linear-gradient(90deg, rgba(255, 248, 225, 0.9) 0%, rgba(255, 255, 255, 0.9) 100%);
            border-top: 2px solid var(--friday-gold);
        }
        
        .marquee-track {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: max-content;
            display: flex;
            align-items: center;
            animation: marquee-scroll 300s linear infinite;
        }
        
        .friday-mode .marquee-track {
            animation: marquee-scroll 400s linear infinite;
        }
        
        @keyframes marquee-scroll {
            0% { transform: translateX(100vw); }
            100% { transform: translateX(-100%); }
        }
        
        .adab-item {
            white-space: nowrap;
            padding: 0 60px;
            font-size: 1rem;
            font-weight: 600;
            color: var(--primary-dark);
            display: flex;
            align-items: center;
        }
        
        .friday-mode .adab-item {
            color: var(--friday-dark);
        }
        
        .adab-item i {
            margin-right: 10px;
            color: var(--accent-blue);
            font-size: 1rem;
        }
        
        .friday-mode .adab-item i {
            color: var(--friday-gold);
        }
        
        /* ========== OVERLAYS ========== */
        .azan-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--accent-blue) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9998;
            color: white;
            text-align: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }
        
        .azan-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        
        .azan-overlay h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 4rem;
            margin-bottom: 20px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .azan-countdown {
            font-family: 'Montserrat', sans-serif;
            font-size: 6rem;
            font-weight: 800;
            margin: 20px 0;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            letter-spacing: 5px;
        }
        
        .azan-prayer-name {
            font-size: 2.5rem;
            font-weight: 700;
            margin-top: 20px;
            opacity: 0.9;
        }
        
        .salah-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: #666;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }
        
        .salah-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        
        .salah-clock {
            font-family: 'Montserrat', sans-serif;
            font-size: 3rem;
            color: #444;
            margin-bottom: 20px;
            letter-spacing: 3px;
        }
        
        .salah-text {
            font-size: 2rem;
            color: #555;
            font-weight: 600;
        }
        
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            text-align: center;
            padding: 20px;
        }
        
        .fullscreen-overlay h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--accent-blue);
        }
        
        .fullscreen-overlay p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            max-width: 600px;
            line-height: 1.6;
        }
        
        .fullscreen-btn {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            font-family: 'Montserrat', sans-serif;
        }
        
        .fullscreen-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(46, 119, 187, 0.4);
        }
        
        /* ========== RESPONSIVE ========== */
        @media (min-width: 1921px) {
            body { font-size: 1.2rem; }
            .header { padding: 25px 50px; min-height: 100px; }
            .hijri-date { font-size: 1.8rem; }
            .gregorian-date { font-size: 1.4rem; }
            .masjid-name { font-size: 2.8rem; }
            .masjid-address { font-size: 1.1rem; }
            .main-container { padding: 20px 30px; gap: 30px; }
            .digital-clock { font-size: 8rem; }
            .timezone { font-size: 2rem; }
            .wisdom-text { font-size: 1.6rem; }
            .wisdom-reference { font-size: 1.2rem; }
            .prayer-schedule { min-height: 130px; }
            .prayer-time { font-size: 1.8rem; }
            .marquee-container { height: 55px; }
            .adab-item { font-size: 1.3rem; }
        }
        
        @media (max-width: 1366px) {
            .digital-clock { font-size: 5rem; }
        }
        
        @media (max-width: 1024px) {
            .main-container { flex-direction: column; }
            .sidebar-left { max-height: 380px; }
            .sidebar-right { height: 300px; flex: 1; }
        }
        
        @media (max-width: 768px) {
            .header { flex-direction: column; text-align: center; gap: 10px; padding: 12px 20px; }
            .date-section, .masjid-section { text-align: center; width: 100%; }
            .masjid-name { font-size: 1.6rem; }
            .digital-clock { font-size: 4rem; }
        }
        
        @media (max-width: 480px) {
            .masjid-name { font-size: 1.4rem; }
            .digital-clock { font-size: 3.5rem; }
        }
    </style>
</head>
<body>
    <!-- FULLSCREEN OVERLAY -->
    <div class="fullscreen-overlay" id="fullscreen-overlay">
        <h2>Display Digital Masjid Baiturrahman</h2>
        <p>Untuk pengalaman terbaik, tampilan akan dibuka dalam mode layar penuh.</p>
        <button class="fullscreen-btn" id="enter-fullscreen-btn">
            <i class="fas fa-expand"></i> Buka Layar Penuh
        </button>
        <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.7;">Tekan F11 untuk toggle fullscreen | ESC untuk keluar</p>
    </div>
    
    <!-- FRIDAY NOTIFICATION -->
    <div class="friday-notification" id="friday-notification">
        <i class="fas fa-star"></i> MODE JUMAT AKTIF <i class="fas fa-star"></i>
    </div>
    
    <!-- FRIDAY COUNTDOWN -->
    <div class="friday-countdown" id="friday-countdown">
        <h2>MODE JUMAT AKAN DIMULAI</h2>
        <div class="countdown" id="friday-mode-countdown">00:00</div>
        <p>Tampilan khusus Jumat akan segera dimulai.</p>
    </div>
    
    <!-- AZAN OVERLAY -->
    <div class="azan-overlay" id="azan-overlay">
        <h1 id="azan-title">MENUJU AZAN</h1>
        <div class="azan-countdown" id="azan-countdown">30</div>
        <div class="azan-prayer-name" id="azan-prayer-name">MAGHRIB</div>
    </div>
    
    <!-- SALAH OVERLAY -->
    <div class="salah-overlay" id="salah-overlay">
        <div class="salah-clock" id="salah-clock">00:00</div>
        <div class="salah-text" id="salah-text">Waktu Shalat...</div>
    </div>
    
    <!-- HEADER -->
    <header class="header">
        <div class="date-section">
            <div class="hijri-date" id="hijri-date">Memuat...</div>
            <div class="gregorian-date" id="gregorian-date">Memuat...</div>
        </div>
        
        <div class="masjid-section">
            <h1 class="masjid-name" id="masjid-name">Masjid Baiturrahman</h1>
            <p class="masjid-address" id="masjid-address">STMIK Tazkia, Dramaga Bogor</p>
        </div>
    </header>
    
    <!-- MAIN CONTAINER -->
    <div class="main-container">
        <!-- LEFT SIDEBAR -->
        <div class="sidebar-left">
            <!-- TIMER SECTION -->
            <div class="timer-section">
                <div class="clock-container">
                    <div class="digital-clock" id="digital-clock">00:00</div>
                    <div class="timezone" id="timezone">WIB</div>
                </div>
            </div>
            
            <!-- WISDOM SECTION -->
            <div class="wisdom-section">
                <div class="wisdom-content" id="wisdom-content">
                    <div class="wisdom-text" id="wisdom-text">Memuat konten hikmah...</div>
                    <div class="wisdom-reference" id="wisdom-reference">-</div>
                </div>
            </div>
        </div>
        
        <!-- RIGHT SIDEBAR -->
        <div class="sidebar-right">
            <!-- WALLPAPER SLIDER (NORMAL MODE) -->
            <div class="wallpaper-slider" id="wallpaper-slider"></div>
            
            <!-- FRIDAY SLIDER (FRIDAY MODE) -->
            <div class="friday-slider" id="friday-slider">
                <!-- SLIDE 1: Jadwal & Petugas Jumat -->
                <div class="friday-slide active" id="friday-slide-1">
                    <div class="jumat-schedule">
                        <h3><i class="fas fa-clock"></i> JADWAL SHALAT JUMAT</h3>
                        <div class="jumat-times">
                            <div class="jumat-time-item">
                                <div class="jumat-time-label">Waktu Khutbah</div>
                                <div class="jumat-time-value" id="khutbah-time">11:30</div>
                            </div>
                            <div class="jumat-time-item">
                                <div class="jumat-time-label">Waktu Iqamah</div>
                                <div class="jumat-time-value" id="iqamah-time">12:00</div>
                            </div>
                        </div>
                    </div>
                    <div class="jumat-officers">
                        <h3><i class="fas fa-users"></i> PETUGAS JUMAT</h3>
                        <div class="officers-grid">
                            <div class="officer-item">
                                <div class="officer-role">Imam</div>
                                <div class="officer-name" id="imam-name">-</div>
                            </div>
                            <div class="officer-item">
                                <div class="officer-role">Khatib</div>
                                <div class="officer-name" id="khatib-name">-</div>
                            </div>
                            <div class="officer-item">
                                <div class="officer-role">Muadzin 1</div>
                                <div class="officer-name" id="muadzin1-name">-</div>
                            </div>
                            <div class="officer-item">
                                <div class="officer-role">Muadzin 2</div>
                                <div class="officer-name" id="muadzin2-name">-</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- SLIDE 2: Pengumuman Jumat -->
                <div class="friday-slide" id="friday-slide-2">
                    <div class="jumat-announcements">
                        <h3><i class="fas fa-bullhorn"></i> PENGUMUMAN</h3>
                        <div class="announcement-container" id="announcement-container"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- PRAYER SCHEDULE -->
    <footer class="prayer-schedule">
        <div class="schedule-title" id="schedule-title">JADWAL SHALAT HARI INI</div>
        <div class="prayer-grid" id="prayer-grid">
            <div class="prayer-item"><div class="prayer-name">Subuh</div><div class="prayer-time">--:--</div></div>
            <div class="prayer-item"><div class="prayer-name">Syuruq</div><div class="prayer-time">--:--</div></div>
            <div class="prayer-item"><div class="prayer-name" id="dzuhur-name">Dzuhur</div><div class="prayer-time">--:--</div></div>
            <div class="prayer-item"><div class="prayer-name">Ashar</div><div class="prayer-time">--:--</div></div>
            <div class="prayer-item"><div class="prayer-name">Maghrib</div><div class="prayer-time">--:--</div></div>
            <div class="prayer-item"><div class="prayer-name">Isya</div><div class="prayer-time">--:--</div></div>
        </div>
    </footer>
    
    <!-- MARQUEE -->
    <div class="marquee-container">
        <div class="marquee-track" id="marquee-track">
            <div class="adab-item"><i class="fas fa-mosque"></i> Memuat adab Islam...</div>
        </div>
    </div>

    <script>
        // ========================================
        // DISPLAY DIGITAL - VERSION FINAL
        // 100% SINKRON DENGAN GAS
        // ========================================
        
        // GANTI DENGAN URL HASIL DEPLOY GAS LO!
        const API_URL = "https://script.google.com/macros/s/AKfycbw58v_4TKSKQb0qI2nenO_pPI6_g-LVajqWsQu63byhWGrBYQT-aAvdJy3GXv1ge_2g2A/exec";
        
        // ========== GLOBAL VARIABLES ==========
        const prayerOrder = ["Subuh", "Syuruq", "Dzuhur", "Ashar", "Maghrib", "Isya"];
        
        let configData = {};
        let prayerTimesData = {
            Subuh: "04:30", Syuruq: "05:45", Dzuhur: "11:59", 
            Ashar: "15:15", Maghrib: "18:00", Isya: "19:15"
        };
        let hijriDateString = "Memuat...";
        let gregorianDateString = "Memuat...";
        
        let wisdomsData = [];
        let fridayWisdomsData = [];
        let adabsNormalData = [];
        let adabsFridayData = [];
        let wallpapersData = [];
        let announcementsData = [];
        let fridayScheduleData = {};
        
        // Index variables
        let wisdomIndex = 0;
        let fridayHadithIndex = 0;
        let wallpaperIndex = 0;
        let fridaySlideIndex = 0;
        let announcementIndex = 0;
        
        // Mode
        let currentMode = "normal"; // "normal" or "friday"
        
        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log("=".repeat(50));
            console.log("ðŸš€ DISPLAY DIGITAL STARTING...");
            console.log("=".repeat(50));
            
            // Setup fullscreen
            setupFullscreen();
            
            // Start loading data
            loadAllData();
            
            // Start clock
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // Start rotations
            setInterval(rotateContent, 30000); // Check every 30 seconds
            
            // Check Friday mode every minute
            setInterval(checkFridayMode, 60000);
            checkFridayMode();
            
            // Refresh data every 30 minutes
            setInterval(loadAllData, 30 * 60 * 1000);
        });
        
        // ========== FULLSCREEN ==========
        function setupFullscreen() {
            document.getElementById('enter-fullscreen-btn').addEventListener('click', function() {
                enterFullscreen();
                document.getElementById('fullscreen-overlay').style.display = 'none';
            });
            
            setTimeout(() => {
                if (!document.fullscreenElement) {
                    document.getElementById('fullscreen-overlay').style.display = 'flex';
                }
            }, 2000);
        }
        
        function enterFullscreen() {
            const elem = document.documentElement;
            if (elem.requestFullscreen) elem.requestFullscreen();
            else if (elem.mozRequestFullScreen) elem.mozRequestFullScreen();
            else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
            else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
        }
        
        document.addEventListener('fullscreenchange', handleFullscreenChange);
        document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
        document.addEventListener('mozfullscreenchange', handleFullscreenChange);
        document.addEventListener('MSFullscreenChange', handleFullscreenChange);
        
        function handleFullscreenChange() {
            if (!document.fullscreenElement && 
                !document.webkitFullscreenElement && 
                !document.mozFullScreenElement && 
                !document.msFullscreenElement) {
                document.getElementById('fullscreen-overlay').style.display = 'flex';
            }
        }
        
        // ========== DATA LOADING ==========
        async function loadAllData() {
            console.log("ðŸ“¥ Loading all data from API...");
            
            try {
                // Load config
                const configRes = await fetch(`${API_URL}?path=config`);
                const configResult = await configRes.json();
                if (configResult.success) {
                    configData = configResult.data;
                    document.getElementById('masjid-name').textContent = configData.masjid_name || 'Masjid Baiturrahman';
                    document.getElementById('masjid-address').textContent = configData.masjid_address || 'STMIK Tazkia, Dramaga Bogor';
                    document.getElementById('timezone').textContent = configData.timezone === 'Asia/Makassar' ? 'WITA' : 
                                                                    configData.timezone === 'Asia/Jayapura' ? 'WIT' : 'WIB';
                }
                
                // Load prayer times from cache
                await loadPrayerTimes();
                
                // Load wisdoms
                const wisdomsRes = await fetch(`${API_URL}?path=wisdoms`);
                const wisdomsResult = await wisdomsRes.json();
                if (wisdomsResult.success) {
                    wisdomsData = wisdomsResult.data.filter(w => w.active);
                }
                
                // Load Friday wisdoms
                const fridayWisdomsRes = await fetch(`${API_URL}?path=friday-wisdoms`);
                const fridayWisdomsResult = await fridayWisdomsRes.json();
                if (fridayWisdomsResult.success) {
                    fridayWisdomsData = fridayWisdomsResult.data.filter(w => w.active);
                }
                
                // Load adabs
                const adabsNormalRes = await fetch(`${API_URL}?path=adabs&type=normal`);
                const adabsNormalResult = await adabsNormalRes.json();
                if (adabsNormalResult.success) {
                    adabsNormalData = adabsNormalResult.data.filter(a => a.active);
                }
                
                const adabsFridayRes = await fetch(`${API_URL}?path=adabs&type=friday`);
                const adabsFridayResult = await adabsFridayRes.json();
                if (adabsFridayResult.success) {
                    adabsFridayData = adabsFridayResult.data.filter(a => a.active);
                }
                
                // Load wallpapers
                const wallpapersRes = await fetch(`${API_URL}?path=wallpapers`);
                const wallpapersResult = await wallpapersRes.json();
                if (wallpapersResult.success) {
                    wallpapersData = wallpapersResult.data
                        .filter(w => w.active)
                        .sort((a, b) => a.order - b.order);
                    renderWallpapers();
                }
                
                // Load announcements
                const announcementsRes = await fetch(`${API_URL}?path=announcements`);
                const announcementsResult = await announcementsRes.json();
                if (announcementsResult.success) {
                    announcementsData = announcementsResult.data
                        .filter(a => a.active)
                        .sort((a, b) => a.order - b.order);
                    renderAnnouncements();
                }
                
                // Load Friday schedule
                const scheduleRes = await fetch(`${API_URL}?path=friday-schedule`);
                const scheduleResult = await scheduleRes.json();
                if (scheduleResult.success) {
                    fridayScheduleData = scheduleResult.data;
                    updateFridayScheduleUI();
                }
                
                // Initialize content
                initDailyWisdom();
                createMarquee();
                
                console.log("âœ… All data loaded successfully!");
                
            } catch (error) {
                console.error("âŒ Error loading data:", error);
            }
        }
        
        // ========== PRAYER TIMES ==========
        async function loadPrayerTimes() {
            try {
                const today = formatDate(new Date());
                const response = await fetch(`${API_URL}?path=prayer-times&date=${today}`);
                const result = await response.json();
                
                if (result.success && result.data) {
                    prayerTimesData = {
                        Subuh: result.data.subuh,
                        Syuruq: result.data.syuruq,
                        Dzuhur: result.data.dzuhur,
                        Ashar: result.data.ashar,
                        Maghrib: result.data.maghrib,
                        Isya: result.data.isya
                    };
                    
                    hijriDateString = result.data.hijri || "Memuat...";
                    gregorianDateString = result.data.gregorian || "Memuat...";
                    
                    document.getElementById('hijri-date').textContent = hijriDateString;
                    document.getElementById('gregorian-date').textContent = gregorianDateString;
                    
                    updatePrayerScheduleUI();
                    
                    console.log("ðŸ•‹ Prayer times loaded:", prayerTimesData);
                }
            } catch (error) {
                console.error("âŒ Error loading prayer times:", error);
                // Use fallback
                updatePrayerScheduleUI();
            }
        }
        
        function formatDate(date) {
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = date.getFullYear();
            return `${day}-${month}-${year}`;
        }
        
        function updatePrayerScheduleUI() {
            const prayerGrid = document.getElementById('prayer-grid');
            const prayerItems = prayerGrid.querySelectorAll('.prayer-item');
            
            prayerOrder.forEach((prayerName, index) => {
                const prayerTime = prayerTimesData[prayerName] || "--:--";
                if (prayerItems[index]) {
                    const timeElement = prayerItems[index].querySelector('.prayer-time');
                    if (timeElement) {
                        timeElement.textContent = prayerTime;
                    }
                }
            });
        }
        
        // ========== WALLPAPERS ==========
        function renderWallpapers() {
            const container = document.getElementById('wallpaper-slider');
            container.innerHTML = '';
            
            if (wallpapersData.length === 0) {
                // Fallback wallpapers
                const fallback = [
                    'https://images.unsplash.com/photo-1548013146-72479768bada?w=1920',
                    'https://images.unsplash.com/photo-1562774053-701939374585?w=1920',
                    'https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=1920'
                ];
                
                fallback.forEach((url, index) => {
                    const slide = document.createElement('div');
                    slide.className = `wallpaper-slide ${index === 0 ? 'active' : ''}`;
                    const fileId = wallpaper.image_url.split('id=')[1];
                    const thumbnailUrl = `https://drive.google.com/thumbnail?id=${fileId}&sz=w1920`;
                    slide.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('${thumbnailUrl}')`;
                    slide.style.backgroundSize = 'cover';
                    slide.style.backgroundPosition = 'center';
                    container.appendChild(slide);
                });
                
                wallpaperIndex = 0;
                return;
            }
            
            wallpapersData.forEach((wallpaper, index) => {
                const slide = document.createElement('div');
                slide.className = `wallpaper-slide ${index === 0 ? 'active' : ''}`;
                slide.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('${wallpaper.image_url}')`;
                slide.style.backgroundSize = 'cover';
                slide.style.backgroundPosition = 'center';
                container.appendChild(slide);
            });
            
            wallpaperIndex = 0;
        }
        
        // ========== ANNOUNCEMENTS ==========
        function renderAnnouncements() {
            const container = document.getElementById('announcement-container');
            container.innerHTML = '';
            
            if (announcementsData.length === 0) {
                const slide = document.createElement('div');
                slide.className = 'announcement-slide active';
                slide.innerHTML = '<p style="text-align: center; color: #666;">Belum ada pengumuman</p>';
                container.appendChild(slide);
                return;
            }
            
            announcementsData.forEach((announcement, index) => {
                const slide = document.createElement('div');
                slide.className = `announcement-slide ${index === 0 ? 'active' : ''}`;
                
                const img = document.createElement('img');
                let imageUrl = announcement.image_url;
                if (imageUrl && imageUrl.includes('id=')) {
                const fileId = imageUrl.split('id=')[1].split('&')[0];
                imageUrl = `https://drive.google.com/thumbnail?id=${fileId}&sz=w1920`;
                }
                img.src = imageUrl;
                img.alt = `Pengumuman ${index + 1}`;
                img.onerror = function() {
                    this.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><rect fill="%23ddd" width="200" height="200"/><text fill="%23999" x="50%" y="50%" text-anchor="middle" dy=".3em">Gambar Error</text></svg>';
                };
                
                slide.appendChild(img);
                container.appendChild(slide);
            });
            
            announcementIndex = 0;
        }
        
        // ========== FRIDAY SCHEDULE ==========
        function updateFridayScheduleUI() {
            document.getElementById('khutbah-time').textContent = fridayScheduleData.khutbah_time || '11:30';
            document.getElementById('iqamah-time').textContent = fridayScheduleData.iqamah_time || '12:00';
            document.getElementById('imam-name').textContent = fridayScheduleData.imam_name || '-';
            document.getElementById('khatib-name').textContent = fridayScheduleData.khatib_name || '-';
            document.getElementById('muadzin1-name').textContent = fridayScheduleData.muadzin1_name || '-';
            document.getElementById('muadzin2-name').textContent = fridayScheduleData.muadzin2_name || '-';
        }
        
        // ========== WISDOM ==========
        function initDailyWisdom() {
            const now = new Date();
            const dayMap = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
            const today = dayMap[now.getDay()];
            
            const todayWisdoms = wisdomsData.filter(w => w.day === today);
            
            if (todayWisdoms.length > 0) {
                todayWisdoms.sort((a, b) => a.order - b.order);
                updateWisdom(todayWisdoms[0]);
            }
        }
        
        function updateWisdom(wisdom) {
            if (!wisdom) return;
            document.getElementById('wisdom-text').textContent = wisdom.text;
            document.getElementById('wisdom-reference').textContent = wisdom.reference;
        }
        
        function rotateWisdom() {
            if (currentMode === 'friday') {
                rotateFridayWisdom();
                return;
            }
            
            const now = new Date();
            const dayMap = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
            const today = dayMap[now.getDay()];
            
            const todayWisdoms = wisdomsData.filter(w => w.day === today).sort((a, b) => a.order - b.order);
            
            if (todayWisdoms.length === 0) return;
            
            const content = document.getElementById('wisdom-content');
            content.style.opacity = 0;
            
            setTimeout(() => {
                wisdomIndex = (wisdomIndex + 1) % todayWisdoms.length;
                updateWisdom(todayWisdoms[wisdomIndex]);
                content.style.opacity = 1;
            }, 400);
        }
        
        function rotateFridayWisdom() {
            if (fridayWisdomsData.length === 0) return;
            
            fridayWisdomsData.sort((a, b) => a.order - b.order);
            
            const content = document.getElementById('wisdom-content');
            content.style.opacity = 0;
            
            setTimeout(() => {
                fridayHadithIndex = (fridayHadithIndex + 1) % fridayWisdomsData.length;
                updateWisdom(fridayWisdomsData[fridayHadithIndex]);
                content.style.opacity = 1;
            }, 400);
        }
        
        // ========== MARQUEE ==========
        function createMarquee() {
            const track = document.getElementById('marquee-track');
            track.innerHTML = '';
            
            const currentAdabs = currentMode === 'friday' ? adabsFridayData : adabsNormalData;
            
            if (currentAdabs.length === 0) {
                const item = document.createElement('div');
                item.className = 'adab-item';
                item.innerHTML = '<i class="fas fa-mosque"></i> Selamat datang di Masjid Baiturrahman STMIK Tazkia';
                track.appendChild(item);
                return;
            }
            
            currentAdabs.sort((a, b) => a.order - b.order);
            
            // Duplicate for smooth scrolling
            for (let i = 0; i < 3; i++) {
                currentAdabs.forEach(adab => {
                    const item = document.createElement('div');
                    item.className = 'adab-item';
                    item.innerHTML = `<i class="${adab.icon}"></i> ${adab.text}`;
                    track.appendChild(item);
                    
                    const space = document.createElement('div');
                    space.style.padding = '0 100px';
                    track.appendChild(space);
                });
            }
            
            // Update animation speed
            const speed = currentMode === 'friday' ? 
                (configData.marquee_speed_friday || 400) : 
                (configData.marquee_speed || 300);
            track.style.animationDuration = speed + 's';
        }
        
        // ========== CLOCK & ACTIVE PRAYER ==========
        function updateDateTime() {
            const now = new Date();
            
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const colon = now.getSeconds() % 2 === 0 ? ":" : " ";
            
            document.getElementById('digital-clock').innerHTML = 
                `${hours}<span class="blink">${colon}</span>${minutes}`;
            
            document.getElementById('salah-clock').textContent = `${hours}:${minutes}`;
            
            updateActivePrayer(now);
        }
        
        function updateActivePrayer(now) {
            if (currentMode === "friday") return;
            
            const currentTime = now.getHours() * 60 + now.getMinutes();
            const prayerItems = document.querySelectorAll('.prayer-item');
            
            prayerItems.forEach(item => item.classList.remove('active'));
            
            for (let i = 0; i < prayerOrder.length; i++) {
                const prayerName = prayerOrder[i];
                const prayerTime = prayerTimesData[prayerName];
                
                if (!prayerTime) continue;
                
                const [hour, minute] = prayerTime.split(':').map(Number);
                const prayerTotal = hour * 60 + minute;
                
                if (i > 0) {
                    const prevPrayer = prayerOrder[i - 1];
                    const prevTime = prayerTimesData[prevPrayer];
                    
                    if (prevTime) {
                        const [prevHour, prevMinute] = prevTime.split(':').map(Number);
                        const prevTotal = prevHour * 60 + prevMinute;
                        
                        if (currentTime >= prevTotal && currentTime < prayerTotal) {
                            if (prayerItems[i]) prayerItems[i].classList.add('active');
                            break;
                        }
                    }
                }
            }
            
            // Handle after Isya (next day before Subuh)
            const lastPrayer = prayerOrder[prayerOrder.length - 1];
            const lastTime = prayerTimesData[lastPrayer];
            if (lastTime) {
                const [lastHour, lastMinute] = lastTime.split(':').map(Number);
                const lastTotal = lastHour * 60 + lastMinute;
                
                if (currentTime >= lastTotal && prayerItems[0]) {
                    prayerItems[0].classList.add('active'); // Subuh for next day
                }
            }
        }
        
        // ========== FRIDAY MODE ==========
        function checkFridayMode() {
            const now = new Date();
            const dayOfWeek = now.getDay(); // 5 = Friday
            const currentHour = now.getHours();
            
            const fridayStart = configData.friday_start_hour || 8;
            const fridayEnd = configData.friday_end_hour || 14;
            
            if (dayOfWeek === 5 && currentHour >= fridayStart && currentHour < fridayEnd) {
                activateFridayMode();
            } else if (dayOfWeek === 5 && currentHour === fridayStart - 1 && now.getMinutes() >= 59) {
                // Countdown mode - 1 minute before Friday mode
                showFridayCountdown(60 - now.getSeconds());
            } else {
                deactivateFridayMode();
            }
        }
        
        function showFridayCountdown(seconds) {
            const countdownEl = document.getElementById('friday-countdown');
            const timerEl = document.getElementById('friday-mode-countdown');
            
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerEl.textContent = `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
            
            countdownEl.classList.add('show');
            
            if (seconds <= 0) {
                countdownEl.classList.remove('show');
                activateFridayMode();
            }
        }
        
        function activateFridayMode() {
            if (currentMode === 'friday') return;
            
            currentMode = 'friday';
            document.body.classList.add('friday-mode');
            document.getElementById('friday-notification').classList.add('show');
            document.getElementById('friday-countdown').classList.remove('show');
            
            // Reset Friday slides
            fridaySlideIndex = 0;
            announcementIndex = 0;
            
            const slides = document.querySelectorAll('.friday-slide');
            slides.forEach((slide, i) => {
                if (i === 0) slide.classList.add('active');
                else slide.classList.remove('active');
            });
            
            const announcements = document.querySelectorAll('.announcement-slide');
            announcements.forEach((ann, i) => {
                if (i === 0) ann.classList.add('active');
                else ann.classList.remove('active');
            });
            
            // Update title
            document.getElementById('schedule-title').textContent = "JADWAL SHALAT JUMAT";
            document.getElementById('dzuhur-name').textContent = "Jumat";
            
            // Update wisdom
            if (fridayWisdomsData.length > 0) {
                fridayWisdomsData.sort((a, b) => a.order - b.order);
                updateWisdom(fridayWisdomsData[0]);
            }
            
            // Update marquee
            createMarquee();
        }
        
        function deactivateFridayMode() {
            if (currentMode !== 'friday') return;
            
            currentMode = 'normal';
            document.body.classList.remove('friday-mode');
            document.getElementById('friday-notification').classList.remove('show');
            document.getElementById('friday-countdown').classList.remove('show');
            
            // Update title
            document.getElementById('schedule-title').textContent = "JADWAL SHALAT HARI INI";
            document.getElementById('dzuhur-name').textContent = "Dzuhur";
            
            // Update wisdom
            initDailyWisdom();
            
            // Update marquee
            createMarquee();
        }
        
        // ========== CONTENT ROTATION ==========
        function rotateContent() {
            if (currentMode === 'friday') {
                // Rotate Friday slides (every 60 seconds)
                const slides = document.querySelectorAll('.friday-slide');
                if (slides.length > 1) {
                    slides.forEach(s => s.classList.remove('active'));
                    fridaySlideIndex = (fridaySlideIndex + 1) % slides.length;
                    slides[fridaySlideIndex].classList.add('active');
                }
                
                // Rotate announcements within slide 2 (every 30 seconds)
                const announcements = document.querySelectorAll('.announcement-slide');
                if (announcements.length > 1) {
                    announcements.forEach(a => a.classList.remove('active'));
                    announcementIndex = (announcementIndex + 1) % announcements.length;
                    announcements[announcementIndex].classList.add('active');
                }
                
                // Rotate Friday wisdom (every 60 seconds)
                rotateFridayWisdom();
                
            } else {
                // Rotate wallpaper (every 30 seconds)
                const wallpapers = document.querySelectorAll('.wallpaper-slide');
                if (wallpapers.length > 1) {
                    wallpapers.forEach(w => w.classList.remove('active'));
                    wallpaperIndex = (wallpaperIndex + 1) % wallpapers.length;
                    wallpapers[wallpaperIndex].classList.add('active');
                }
                
                // Rotate wisdom (every config.wisdom_duration seconds)
                rotateWisdom();
            }
        }
    </script>
</body>
</html>
